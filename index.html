<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>[ë‚˜ì˜ ì‚¬ë‘ ì•ˆì— ê±°í•˜ë¼]</title>
  <link rel="stylesheet" href="style/styles.css" />
  <link rel="stylesheet" href="style/modal.css">
  <!-- Open Graph ë©”íƒ€ íƒœê·¸ -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="ë‚˜ì˜ ì‚¬ë‘ ì•ˆì— ê±°í•˜ë¼ : ì•ˆë””ì˜¥ ëŒ€í•™ì²­ë…„ ì—°í•©ìˆ˜ë ¨íšŒ" />
  <meta property="og:description" content="2025-08/14~16 | êµ¬ë¯¸ì•ˆë””ì˜¥êµíšŒ" />
  <meta property="og:image" content="https://abide-in-my-love.netlify.app/img/meta.png" />
  <meta property="og:url" content="https://abide-in-my-love.netlify.app/" />
  <meta name="description" content="2025 ì•ˆë””ì˜¥êµíšŒ ëŒ€í•™ì²­ë…„ ì—°í•©ìˆ˜ë ¨íšŒ ì•ˆë‚´ : ì¡°, ìˆ™ì†Œ, ì¼ì •, ì‹ë‹¨, ì‘ê¸‰ì—°ë½ë§ ë“± ì „ì²´ í™•ì¸ ê°€ëŠ¥." />
</head>

<body>
  <!-- ì˜¤ë¥¸ìª½ ìƒë‹¨ ê³ ì • ìˆ˜ì • ë²„íŠ¼ -->
  <button id="editRequestBtn" class="floating-btn top-right-btn">ìˆ˜ì • ìš”ì²­</button>

  <div id="loading" style="text-align:center; margin-top: 100px;">
    <img src="img/loading-spinner.gif" width="60" alt="ë¡œë”© ì¤‘..."><br>
    <p>ë¡œë”© ì¤‘ì…ë‹ˆë‹¤...</p>
  </div>

<div id="editModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="closeModal">&times;</span>
    <p class="example-text">
      ì˜ˆì‹œ)<br>
      - ì €ëŠ” OOOì¸ë° ì œ ì´ë¦„ì´ ì´ìƒí•´ìš”.<br>
      - ì œ ì´ë¦„ì´ ëª…ë‹¨ì— ì—†ì–´ìš”.<br>
      - ìˆ™ì†Œ ì •ë³´ê°€ ì˜ëª»ë˜ì—ˆì–´ìš”.<br>
      - ê¸°íƒ€ ì˜ëª»ëœ ë‚´ìš©ì„ ì•Œë ¤ì£¼ì„¸ìš”.
    </p>
    
    <!-- âœ… ì´ë¦„ ì…ë ¥ í•„ë“œ ì¶”ê°€ -->
    <input type="text" id="editName" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" style="width:90%; padding:10px; margin-bottom:10px;"/>

    <textarea id="editContent" rows="6" placeholder="ìˆ˜ì •í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
    <br><br>
    <button id="submitEditBtn" onclick="submitEditRequest()">ì œì¶œ</button>
    <p id="editMsg" style="margin-top:10px;"></p>
  </div>
</div>



  <div id="app" style="display:none;">
    <header id="header">
      <div class="header-overlay">
        <p id="typing-text"></p>
      </div>
    </header>

    <div class="grid-container">
      <h3>ë‚´ ì •ë³´ ì°¾ê¸°</h3>

      <!-- <label for="nameInput" >ì´ë¦„</label> -->
      <input
        type="text"
        id="nameInput"
        placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
        class="grid-item"
      />
      <!-- ì£¼ìš” ì¡°íšŒ ë²„íŠ¼ -->
      <button id="grd1" class="grid-item" onclick="appHandlers.findTeam()">ë‚˜ì˜ ì¡° ì°¾ê¸° ğŸ”</button>
      <button id="grd2" class="grid-item" onclick="appHandlers.findRoom()">ë‚˜ì˜ ìˆ™ì†Œ ì°¾ê¸° ğŸ </button>
      <!-- <button id="grd9" class="grid-item" onclick="appHandlers.showFasting()">ë‚˜ì˜ ê¸ˆì‹ê¸°ë„ ğŸ™</button> -->
      <br>
      <h3>ì „ì²´ ì •ë³´ ì°¾ê¸°</h3>
      <button id="grd3" class="grid-item" onclick="appHandlers.showAllTeams()">ì „ì²´ ì¡° ë³´ê¸° ğŸ‘¥</button>
      <button id="grd4" class="grid-item" onclick="appHandlers.showAllRooms()">ì „ì²´ ìˆ™ì†Œí‘œ ë³´ê¸° ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦</button>
      <!-- <button id="grd10" class="grid-item" onclick="appHandlers.showAllFasting()">ì „ì²´ ê¸ˆì‹ê¸°ë„ì ë³´ê¸° ğŸ™Œ</button> -->
      <br>
      <h3>ê¸°íƒ€ ê¸°ëŠ¥</h3>
      <button id="grd5" class="grid-item" onclick="appHandlers.showEmergency()">ì‘ê¸‰ ì—°ë½ë§ ğŸ“</button>
      <button id="grd6" class="grid-item" onclick="appHandlers.showSchedule()">ì¼ì • ğŸ“…</button>
      <button id="grd7" class="grid-item" onclick="appHandlers.showFood()">ì‹ë‹¨í‘œ ğŸ²</button>
      <button id="grd8" class="grid-item" onclick="appHandlers.showResolution()">ê²°ë‹¨ë¬¸ âœï¸</button>
      <!-- <button id="grd11" class="grid-item" onclick="appHandlers.showLinktree()">ì•ˆë””ì˜¥ ì†Œì…œ ë„¤íŠ¸ì›Œí¬ âœï¸</button> -->
      <br>
    </div>

    <!-- ê²°ê³¼ ì¶œë ¥ ì˜ì—­ -->
    <div class="grid-item results team-info" id="teamInfo"></div>
    <div class="grid-item results room-info" id="roomInfo" style="display: none;"></div>
    <div class="grid-item results team-list" id="allTeams"></div>
    <div class="grid-item results all-rooms" id="allRooms" style="display: none;"></div>
    <div class="grid-item results emergency-info" id="emergencyInfo"></div>
    <div class="grid-item results schedule-info" id="scheduleInfo"></div>
    <div class="grid-item results food-info" id="foodInfo" style="display: none;"></div>
    <div class="grid-item results resolution-info" id="resolutionInfo"></div>
    <div class="grid-item results fasting-info" id="fastingInfo" style="display: none;"></div>
    <div class="grid-item results all-fasting-info" id="allFastingInfo" style="display: none;"></div>
    <div class="grid-item results all-linktree-info" id="allLinktreeInfo" style="display: none;"></div>


    <!-- footer -->
    <footer>
      <p>
        &copy; 2025 ì„œë¡œ ì‚¬ë‘í•˜ë¼<br />
        Designed with ğŸŒ¿ by <br />
        <a href="https://www.youtube.com/@hewilldoit">Antioch Church</a>
      </p>
    </footer>
  </div>

  <!-- ë§¨ ìœ„ë¡œ ì´ë™ ë²„íŠ¼ -->
  <button id="scrollTopBtn" class="floating-btn">â¬† ë§¨ ìœ„ë¡œ</button>

  <!-- ìŠ¤í¬ë¦½íŠ¸ -->
  <script type="module" src="./js/main.js"></script>
  <script type="module" src="./js/init.js"></script>
  <script type="module" src="./js/ui-buttons.js"></script>
  <script type="module" src="./js/modal.js"></script>
  <script type="module" src="./js/utils/mode-change.js"></script>
</body>
</html>
<script>
  console.log("ğŸ”¥ inline JS í…ŒìŠ¤íŠ¸: index.htmlì—ì„œ ì§ì ‘ ì‹¤í–‰");
  
</script>
<script type="module">
  import { initModeToggle } from "./js/utils/mode-change.js";
  initModeToggle();
</script>
<script type="module">
  import { db } from './js/firebase-config.js';
  import { collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  window.submitEditRequest = async function () {
    const name = document.getElementById("editName").value.trim(); // âœ… ì´ë¦„ ì…ë ¥ê°’
    const content = document.getElementById("editContent").value.trim();
    const msg = document.getElementById("editMsg");

    if (!name) {
      alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return;
    }

    if (!content) {
      alert("ìˆ˜ì • ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
      return;
    }

    try {
      await addDoc(collection(db, "edit_requests"), {
        name: name, // âœ… Firestoreì— ì´ë¦„ ì¶”ê°€ ì €ì¥
        content: content,
        timestamp: serverTimestamp(),
        userAgent: navigator.userAgent
      });

      msg.innerText = "âœ… ìˆ˜ì • ìš”ì²­ì´ ì œì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!";
      msg.style.color = "lightgreen";
      document.getElementById("editName").value = ""; // ì…ë ¥ ì´ˆê¸°í™”
      document.getElementById("editContent").value = "";

    } catch (error) {
      console.error("ìˆ˜ì • ìš”ì²­ ì €ì¥ ì˜¤ë¥˜:", error);
      msg.innerText = "âŒ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.";
      msg.style.color = "red";
    }
  };
</script>
